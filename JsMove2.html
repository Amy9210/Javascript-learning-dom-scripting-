<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<script>
function positionMessage()
{
	var elem=document.getElementById("message");
	elem.style.position="absolute";
	elem.style.left="500px";
	elem.style.top="100px";
	
}

function moveMessage()
{
	var elem=document.getElementById("message")
	var xpos=parseInt(elem.style.left);//用parseInt函数将数值取出	
        var ypos=parseInt(elem.style.top);
	/*if(xpos==200&&ypos==100)
	{
		return true;
	}????*/
	if(xpos<200)
	{
		xpos++;
	}
	if(xpos>200)
	{
		xpos--;
	}
	if(ypos<100)
	{
		ypos++;
	}
	if(ypos>100)
	{
		ypos--;
	}
	//变色	
        if(ypos>100)
	  {
		   elem.style.color="red";
	  }
	else
	  {
		   elem.style.color="blue";
	  }
	elem.style.left=xpos+"px";
	elem.style.top=ypos+"px";
	movement=setTimeout("moveMessage()",10);//调用
}

function changeColor()
{
	var elem=document.getElementById("message");
	elem.style.color="blue";
}
function addLoadEvent(func)
{
	var oldonload=window.onload;
	if(typeof window.onload!='function')
	{
		window.onload=func;
	}
	else
	{
		window.onload=function()
		{
			oldonload();
			func();
		}
	}
}

addLoadEvent(positionMessage);
addLoadEvent(moveMessage)

</script>
</head>

<body>
<p id="message">whee!</p>
</body>
</html>
